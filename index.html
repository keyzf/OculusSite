<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Screen Sharing Client</title>
</head>
<body>
  <img id="screen" src="" width="1832" height="1920">
  <script>
    const ws = new WebSocket('wss://localhost:1234');

    ws.binaryType = 'arraybuffer';

    ws.onmessage = (event) => {
      // Decompress the received data using zlib
      const bitmapData = zlib.inflateSync(new Uint8Array(event.data));

      // Convert the bitmap data to an HTMLImageElement
      const image = new Image();
      image.src = 'data:image/jpeg;base64,' + btoa(String.fromCharCode.apply(null, bitmapData));

      // Draw the image to the canvas
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      ctx.drawImage(image, 0, 0);
    };
  </script>
</body>
</html>